/*
	æ–¹æ³•1ï¼šé€’å½’ï¼šè‡ªé¡¶å‘ä¸‹
	ä¸æ‡‚ ğŸ˜…ğŸ˜…ğŸ˜…
*/
var res int = -(1 << 32)

func maxPathSum(root *TreeNode) int {
	dfs(root)
	return res
}

// dfs è¿”å›å½“å‰èŠ‚ç‚¹æœ€å¤§è·¯å¾„å’Œ
func dfs(root *TreeNode) int {
	// base case
	if root == nil {
		return 0
	}

	// é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼
	// åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹
	left := Max(dfs(root.Left), 0)
	right := Max(dfs(root.Right), 0)
	// ğŸ˜…ğŸ˜…ğŸ˜… æ›´æ–°anså€¼ï¼ŒèŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼
	res = Max(res, root.Val+left+right)
	// ğŸ˜…ğŸ˜…ğŸ˜…  ä¸‰ç§æƒ…å†µï¼šå‘å·¦èµ°ï¼Œå‘å³èµ°ï¼Œä¸èµ°ã€‚è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼
	return root.Val + Max(left, right)
}
