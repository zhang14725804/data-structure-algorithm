/*
	ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ã€‚

	æœ¬é¢˜ä¸­ï¼Œä¸€æ£µé«˜åº¦å¹³è¡¡äºŒå‰æ ‘å®šä¹‰ä¸ºï¼š

	ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ã€‚
*/

/*
	æ–¹æ³•1ï¼šDFS-é€’å½’ï¼Œè‡ªé¡¶å‘ä¸‹æ–¹å¼ï¼Œå¯ä»¥ç¼“å­˜èŠ‚ç‚¹é«˜åº¦ ğŸ˜…
	é—®é¢˜ï¼šå› æ­¤å¯¹äºåŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå‡½æ•° height ä¼šè¢«é‡å¤è°ƒç”¨ï¼Œå¯¼è‡´æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚
	å¦‚æœä½¿ç”¨è‡ªåº•å‘ä¸Šçš„åšæ³•ï¼Œåˆ™å¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå‡½æ•° height åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡
*/
func isBalanced(root *TreeNode) bool {
	// base case
	if root == nil {
		return true
	}
	// ğŸ˜… è¿”å›å·¦å³èŠ‚ç‚¹æœ€å¤§é«˜åº¦
	left := maxDepth(root.Left)
	right := maxDepth(root.Right)
	// åˆ¤æ–­å·¦å³èŠ‚ç‚¹æ˜¯å¦æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘
	if abs(left, right) > 1 {
		return false
	}
	return isBalanced(root.Left) && isBalanced(root.Right)
}

/*
	æ–¹æ³•2ï¼šDFS-é€’å½’ï¼Œè‡ªåº•å‘ä¸Š ğŸ˜…

	question : æ€è·¯ä¸é”™
	åˆ†æ²»æ³•ï¼Œå·¦è¾¹å¹³è¡¡ && å³è¾¹å¹³è¡¡ && å·¦å³ä¸¤è¾¹é«˜åº¦ <= 1ï¼Œ
	å› ä¸ºéœ€è¦è¿”å›æ˜¯å¦å¹³è¡¡åŠé«˜åº¦ï¼Œè¦ä¹ˆè¿”å›ä¸¤ä¸ªæ•°æ®ï¼Œè¦ä¹ˆåˆå¹¶ä¸¤ä¸ªæ•°æ®ï¼Œ
	æ‰€ä»¥ç”¨ ã€-1ã€‘ è¡¨ç¤ºä¸å¹³è¡¡ï¼Œã€>0ã€‘ è¡¨ç¤ºæ ‘é«˜åº¦ï¼ˆäºŒä¹‰æ€§ï¼šä¸€ä¸ªå˜é‡æœ‰ä¸¤ç§å«ä¹‰ ğŸ˜…ğŸ˜…ğŸ˜…ï¼‰
*/
func isBalanced(root *TreeNode) bool {
	return height(root) >= 0
}

// ååºéå†ï¼šå·¦å³æ ¹
func height(root *TreeNode) int {
	// base case
	if root == nil {
		return 0
	}
	left := height(root.Left)   // å·¦
	right := height(root.Right) // å³
	if left == -1 || right == -1 || abs(left, right) > 1 {
		return -1
	}
	// æ ¹ï¼Œè¿”å›å½“å‰äºŒå‰æ ‘é«˜åº¦
	return MaxInt(left, right) + 1
}