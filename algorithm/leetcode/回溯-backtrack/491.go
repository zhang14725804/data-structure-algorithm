/*
	ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„, ä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°æ‰€æœ‰è¯¥æ•°ç»„çš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—çš„é•¿åº¦è‡³å°‘æ˜¯ 2 ã€‚
	ç»™å®šæ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡15ã€‚
	æ•°ç»„ä¸­çš„æ•´æ•°èŒƒå›´æ˜¯ [-100,100]ã€‚
	ç»™å®šæ•°ç»„ä¸­å¯èƒ½åŒ…å«é‡å¤æ•°å­—ï¼Œç›¸ç­‰çš„æ•°å­—åº”è¯¥è¢«è§†ä¸ºé€’å¢çš„ä¸€ç§æƒ…å†µã€‚
*/

/*
	æ–¹æ³•1ï¼šå›æº¯
	 ğŸ˜… è€Œæœ¬é¢˜æ±‚è‡ªå¢å­åºåˆ—ï¼Œæ˜¯ä¸èƒ½å¯¹åŸæ•°ç»„ç»è¡Œæ’åºçš„ï¼Œæ’å®Œåºçš„æ•°ç»„éƒ½æ˜¯è‡ªå¢å­åºåˆ—äº†

	ğŸ˜…ğŸ˜…ğŸ˜… å¯ä¼˜åŒ–çš„ç‚¹ï¼šå½“å‰ä½¿ç”¨mapæ¥è®°å½•æœ¬å±‚å…ƒç´ æ˜¯å¦é‡å¤ä½¿ç”¨ï¼Œæ•°å€¼èŒƒå›´[-100,100]ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥ç”¨ã€æ•°ç»„ã€‘æ¥åšå“ˆå¸Œ
*/
var ans [][]int
var path []int
var nums []int

func findSubsequences(_nums []int) [][]int {
	nums = _nums
	ans = make([][]int, 0) // åªæ˜¯ä¸ºäº†æäº¤ï¼Œleetcodeæäº¤æ—¶ï¼Œans ä¼šæ‹¼æ¥ä¹‹å‰æäº¤çš„ç»“æœ
	backtrack(0)
	return ans
}
func backtrack(start int) {
	// ğŸ˜… æ³¨æ„è¿™é‡Œä¸è¦åŠ returnï¼Œè¦å–æ ‘ä¸Šçš„èŠ‚ç‚¹
	if len(path) >= 2 {
		back := make([]int, len(path))
		copy(back, path)
		ans = append(ans, back)
	}
	// ğŸ˜…ğŸ˜…ğŸ˜… å¯ä¼˜åŒ–çš„åœ°æ–¹ used := make([]bool, 201) // è¿™é‡Œä½¿ç”¨æ•°ç»„æ¥è¿›è¡Œå»é‡æ“ä½œï¼Œé¢˜ç›®è¯´æ•°å€¼èŒƒå›´[-100, 100]
	// è®°å½•æœ¬å±‚å…ƒç´ æ˜¯å¦é‡å¤ä½¿ç”¨ï¼Œæ–°çš„ä¸€å±‚useMapéƒ½ä¼šé‡æ–°å®šä¹‰ï¼ˆæ¸…ç©ºï¼‰ï¼Œæ‰€ä»¥è¦çŸ¥é“usedMapåªè´Ÿè´£ã€æœ¬å±‚ã€‘ï¼
	usedMap := make(map[int]bool, 0)
	for i := start; i < len(nums); i++ {
		// ğŸ˜… æœ¬å±‚æœªä½¿ç”¨è¿‡ï¼Œä¸” ç¬¦åˆé€’å¢æ¡ä»¶
		if len(path) > 0 && nums[i] < path[len(path)-1] || usedMap[nums[i]] {
			continue
		}
		// è®°å½•è¿™ä¸ªå…ƒç´ åœ¨æœ¬å±‚ç”¨è¿‡äº†ï¼Œæœ¬å±‚åé¢ä¸èƒ½å†ç”¨äº†
		usedMap[nums[i]] = true
		path = append(path, nums[i])
		backtrack(i + 1)
		path = path[:len(path)-1]
		// ğŸ˜… è¿™é‡Œä¸éœ€è¦ usedMap[nums[i]] = false
	}
}