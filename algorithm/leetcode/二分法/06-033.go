/*
	ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå’Œä¸€ä¸ªæ•´æ•° target ã€‚
	è¯¥æ•´æ•°æ•°ç»„åŸæœ¬æ˜¯æŒ‰å‡åºæ’åˆ—ï¼Œä½†è¾“å…¥æ—¶åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚ï¼ˆä¾‹å¦‚ï¼Œæ•°ç»„Â [0,1,2,4,5,6,7]Â å¯èƒ½å˜ä¸ºÂ [4,5,6,7,0,1,2] ï¼‰ã€‚
	è¯·ä½ åœ¨æ•°ç»„ä¸­æœç´¢Â target ï¼Œå¦‚æœæ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ï¼Œåˆ™è¿”å›å®ƒçš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å›Â -1Â ã€‚
*/
func search(nums []int, target int) int {
	n := len(nums) - 1
	if n <= 0 {
		return -1
	}
	// ç”¨æ¨¡æ¿1ï¼Œæ‰¾åˆ°æœ€å°å€¼æ‰€åœ¨çš„ä½ç½®
	left, right := 0, n
	for left < right {
		mid := (left + right) >> 1
		// ğŸ˜…ğŸ˜… æ³¨æ„checkæ¡ä»¶
		if nums[mid] <= nums[n] {
			right = mid
		} else {
			left = mid + 1
		}
	}

	// åˆ¤æ–­ç›®æ ‡å€¼èŒƒå›´åœ¨æœ€å°å€¼å·¦è¾¹è¿˜æ˜¯å³è¾¹, åˆ¤æ–­æ¡ä»¶æ˜¯ ğŸ˜…ã€<=ã€‘
	if target <= nums[n] {
		// åœ¨å³è¾¹
		right = n
	} else {
		// åœ¨å·¦è¾¹
		left = 0
		right--
	}

	// é‡‡ç”¨æ¨¡æ¿1ï¼ŒæŸ¥æ‰¾ç²¾ç¡®å€¼
	for left < right {
		mid := (left + right) >> 1
		// ğŸ˜…ğŸ˜… æ³¨æ„checkæ¡ä»¶
		if nums[mid] >= target {
			right = mid
		} else {
			left = mid + 1
		}
	}

	// æ³¨æ„:è¿™é‡Œåªèƒ½ç”¨l
	if nums[left] == target {
		return left
	}
	return -1
}
