/*
	æ–¹æ³•1ï¼šæš´åŠ›æšä¸¾
	æ•°é‡å¤ªå¤§å°±ä¸è¡Œäº†ğŸ˜…
*/
func maxSubArray1(nums []int) int {
	res := INT_MIN
	for i := 0; i < len(nums); i++ {
		for j := i; j < len(nums); j++ {
			// è®¡ç®—i~jå…ƒç´ çš„å’Œ
			sum := 0
			for k := i; k <= j; k++ {
				sum += nums[k]
			}
			res = compare(res, sum, true)
		}
	}
	return res
}

/*
	æ–¹æ³•2ï¼šåŠ¨æ€è§„åˆ’
	ï¼ˆ1ï¼‰çŠ¶æ€è¡¨ç¤ºï¼ŒåŒ…æ‹¬é›†åˆï¼ˆæ‰€æœ‰ä»¥iç»“å°¾çš„å­æ®µï¼‰ã€å±æ€§ï¼ˆMaxï¼‰
	ï¼ˆ2ï¼‰çŠ¶æ€è®¡ç®— f[i] = max(f[i-1], 0) + nums[i]ï¼ˆf[i-1]å–æˆ–è€…ä¸å–çš„æœ€å¤§å€¼ï¼Œå†åŠ ä¸Šnums[i]ï¼‰
*/
func maxSubArray(nums []int) int {
	nLen := len(nums)
	if nLen == 0 {
		return 0
	}

	// ä»¥ nums[i] ä¸ºç»“å°¾çš„ã€Œæœ€å¤§å­æ•°ç»„å’Œã€ä¸º dp[i]ã€‚
	dp := make([]int, nLen)
	// base case
	dp[0] = nums[0]
	// åˆå§‹å€¼
	res := dp[0]
	for i := 1; i < nLen; i++ {
		dp[i] = Max(nums[i], nums[i]+dp[i-1])
		// æ›´æ–°ç»“æœ
		if dp[i] > res {
			res = dp[i]
		}
	}
	return res
}

func maxSubArray(nums []int) int {
	n := len(nums)
	if n == 0 {
		return 0
	}
	dp := make([]int, n)
	dp[0] = nums[0]
	res := dp[0]
	// ğŸ˜… ä¸€ä¸ªå¾ªç¯æå®š
	for i := 1; i < n; i++ {
		dp[i] = MaxInt(nums[i], nums[i]+dp[i-1])
		if dp[i] > res {
			res = dp[i]
		}
	}
	return res
}

/*
	æ–¹æ³•3ï¼šåŠ¨æ€è§„åˆ’ + çŠ¶æ€å‹ç¼©ï¼ˆğŸ˜…ğŸ˜…ğŸ˜…ï¼‰
	ps:dp[i] ä»…ä»…å’Œ dp[i-1] çš„çŠ¶æ€æœ‰å…³
*/
func maxSubArray3(nums []int) int {
	res := INT_MIN
	last := 0
	for i := 0; i < len(nums); i++ {
		now := MaxInt(last, 0) + nums[i]
		res = MaxInt(res, now)
		last = now
	}
	return res
}

/*
	æ–¹æ³•1ï¼šè´ªå¿ƒç®—æ³•

	å¦‚æœ -2 1 åœ¨ä¸€èµ·ï¼Œè®¡ç®—èµ·ç‚¹çš„æ—¶å€™ï¼Œä¸€å®šæ˜¯ä»1å¼€å§‹è®¡ç®—ï¼Œå› ä¸ºè´Ÿæ•°åªä¼šæ‹‰ä½æ€»å’Œï¼Œè¿™å°±æ˜¯è´ªå¿ƒè´ªçš„åœ°æ–¹ï¼

	å±€éƒ¨æœ€ä¼˜ï¼šå½“å‰â€œè¿ç»­å’Œâ€ä¸ºè´Ÿæ•°çš„æ—¶å€™ç«‹åˆ»æ”¾å¼ƒï¼Œä»ä¸‹ä¸€ä¸ªå…ƒç´ é‡æ–°è®¡ç®—â€œè¿ç»­å’Œâ€ï¼Œå› ä¸ºè´Ÿæ•°åŠ ä¸Šä¸‹ä¸€ä¸ªå…ƒç´  â€œè¿ç»­å’Œâ€åªä¼šè¶Šæ¥è¶Šå°ã€‚
	å…¨å±€æœ€ä¼˜ï¼šé€‰å–æœ€å¤§â€œè¿ç»­å’Œâ€
	å±€éƒ¨æœ€ä¼˜çš„æƒ…å†µä¸‹ï¼Œå¹¶è®°å½•æœ€å¤§çš„â€œè¿ç»­å’Œâ€ï¼Œå¯ä»¥æ¨å‡ºå…¨å±€æœ€ä¼˜ã€‚

	ä»ä»£ç è§’åº¦ä¸Šæ¥è®²ï¼šéå†numsï¼Œä»å¤´å¼€å§‹ç”¨countç´¯ç§¯ï¼Œå¦‚æœcountä¸€æ—¦åŠ ä¸Šnums[i]å˜ä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆå°±åº”è¯¥ä»nums[i+1]å¼€å§‹ä»0ç´¯ç§¯countäº†ï¼Œå› ä¸ºå·²ç»å˜ä¸ºè´Ÿæ•°çš„countï¼Œåªä¼šæ‹–ç´¯æ€»å’Œã€‚
	è¿™ç›¸å½“äºæ˜¯æš´åŠ›è§£æ³•ä¸­çš„ä¸æ–­è°ƒæ•´æœ€å¤§å­åºå’ŒåŒºé—´çš„èµ·å§‹ä½ç½®ã€‚
	é‚£æœ‰åŒå­¦é—®äº†ï¼ŒåŒºé—´ç»ˆæ­¢ä½ç½®ä¸ç”¨è°ƒæ•´ä¹ˆï¼Ÿ å¦‚ä½•æ‰èƒ½å¾—åˆ°æœ€å¤§â€œè¿ç»­å’Œâ€å‘¢ï¼Ÿ
	åŒºé—´çš„ç»ˆæ­¢ä½ç½®ï¼Œå…¶å®å°±æ˜¯å¦‚æœcountå–åˆ°æœ€å¤§å€¼äº†ï¼ŒåŠæ—¶è®°å½•ä¸‹æ¥äº†ã€‚
*/
func maxSubArray(nums []int) int {
	res := -(1 << 32)
	sum := 0
	for i := 0; i < len(nums); i++ {
		sum += nums[i]
		// å–åŒºé—´ç´¯è®¡çš„æœ€å¤§å€¼ï¼ˆç›¸å½“äºä¸æ–­ç¡®å®šæœ€å¤§å­åºç»ˆæ­¢ä½ç½®ï¼‰
		if res < sum {
			res = sum
		}
		// ç›¸å½“äºé‡ç½®æœ€å¤§å­åºèµ·å§‹ä½ç½®ï¼Œå› ä¸ºé‡åˆ°è´Ÿæ•°ä¸€å®šæ˜¯æ‹‰ä½æ€»å’Œ
		if sum <= 0 {
			sum = 0
		}
	}
	return res
}

/*
	æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ï¼ˆè¶…å‡ºæ—¶é—´é™åˆ¶ï¼‰
	ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ dp[ i ] [ len ] è¡¨ç¤ºä»ä¸‹æ ‡ i å¼€å§‹ï¼Œé•¿åº¦ä¸º len çš„å­æ•°ç»„çš„å…ƒç´ å’Œã€‚
	è¿™æ ·é•¿åº¦æ˜¯ len + 1 çš„å­æ•°ç»„å°±å¯ä»¥é€šè¿‡é•¿åº¦æ˜¯ len çš„å­æ•°ç»„å»æ±‚ï¼Œä¹Ÿå°±æ˜¯ä¸‹è¾¹çš„é€’æ¨å¼ï¼Œ
	dp [ i ] [ len + 1 ] = dp[ i ] [ len ] + nums [ i + len - 1 ]ã€‚
	è€ƒè™‘åˆ°æ±‚ i + 1 çš„æƒ…å†µçš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦ i æ—¶å€™çš„æƒ…å†µï¼Œæ‰€æœ‰æˆ‘ä»¬å…¶å®æ²¡å¿…è¦ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œç›´æ¥ç”¨ä¸€ç»´æ•°ç»„å°±å¯ä»¥äº†
	0102 æˆ‘å±…ç„¶ç”¨åŒæŒ‡é’ˆï¼ˆæ„šè ¢ï¼‰
	æ²¡æ‡‚
*/

func maxSubArray(nums []int) int {
	n := len(nums)
	res := -(1 << 32)
	dp := make([]int, n)
	// éå†é•¿åº¦
	for i := 1; i <= n; i++ {
		// éå†ä¸‹æ ‡
		for j := 0; j <= n-i; j++ {
			dp[j] = dp[j] + nums[i+j-1]
			if res < dp[j] {
				res = dp[j]
			}
		}
	}
	return res
}