/*
	åŠ¨æ€è§„åˆ’
*/
func numTrees(n int) int {
	// dp[i] ï¼š 1åˆ°iä¸ºèŠ‚ç‚¹ç»„æˆçš„äºŒå‰æœç´¢æ ‘çš„ä¸ªæ•°ä¸ºdp[i]ã€‚
	dp := make([]int, n+1)
	// dpæ•°ç»„åˆå§‹åŒ–
	dp[0] = 1
	for i := 1; i <= n; i++ {
		for j := 1; j <= i; j++ {
			// ğŸ˜… é€’æ¨å…¬å¼
			dp[i] += dp[j-1] * dp[i-j]
		}
	}
	return dp[n]
}

/*
	é€’å½’ ğŸ˜…ğŸ˜…ğŸ˜…
	æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€ä¸‹æŸ¥æ‰¾äºŒå‰æ ‘çš„æ€§è´¨ã€‚å·¦å­æ ‘çš„æ‰€æœ‰å€¼å°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘çš„æ‰€æœ‰å€¼å¤§äºæ ¹èŠ‚ç‚¹ã€‚

	æ‰€ä»¥å¦‚æœæ±‚ 1...n çš„æ‰€æœ‰å¯èƒ½ã€‚

	æˆ‘ä»¬åªéœ€è¦æŠŠ 1 ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[ ] ç©ºä½œä¸ºå·¦å­æ ‘ï¼Œ[ 2 ... n ] çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘ã€‚

	2 ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[ 1 ] ä½œä¸ºå·¦å­æ ‘ï¼Œ[ 3...n ] çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘ã€‚

	3 ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[ 1 2 ] çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå·¦å­æ ‘ï¼Œ[ 4 ... n ] çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘ï¼Œç„¶åå·¦å­æ ‘å’Œå³å­æ ‘ä¸¤ä¸¤ç»„åˆã€‚

	4 ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[ 1 2 3 ] çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå·¦å­æ ‘ï¼Œ[ 5 ... n ] çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå³å­æ ‘ï¼Œç„¶åå·¦å­æ ‘å’Œå³å­æ ‘ä¸¤ä¸¤ç»„åˆã€‚

	...

	n ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œ[ 1... n ] çš„æ‰€æœ‰å¯èƒ½ä½œä¸ºå·¦å­æ ‘ï¼Œ[ ] ä½œä¸ºå³å­æ ‘ã€‚

	è‡³äºï¼Œ[ 2 ... n ] çš„æ‰€æœ‰å¯èƒ½ä»¥åŠ [ 4 ... n ] ä»¥åŠå…¶ä»–æƒ…å†µçš„æ‰€æœ‰å¯èƒ½ï¼Œå¯ä»¥åˆ©ç”¨ä¸Šè¾¹çš„æ–¹æ³•ï¼ŒæŠŠæ¯ä¸ªæ•°å­—ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œç„¶åæŠŠæ‰€æœ‰å¯èƒ½çš„å·¦å­æ ‘å’Œå³å­æ ‘ç»„åˆèµ·æ¥å³å¯ã€‚

	å¦‚æœåªæœ‰ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆæ‰€æœ‰å¯èƒ½å°±æ˜¯ä¸€ç§æƒ…å†µï¼ŒæŠŠè¯¥æ•°å­—ä½œä¸ºä¸€æ£µæ ‘ã€‚è€Œå¦‚æœæ˜¯ [ ]ï¼Œé‚£å°±è¿”å› nullã€‚
*/
var memoization = make(map[int]int, 0)

func numTrees(n int) int {
	if n == 0 {
		return 0
	}
	return dfs(n)
}

func dfs(n int) int {
	if val, ok := memoization[n]; ok {
		return val
	}
	// base case æ­¤æ—¶æ²¡æœ‰æ•°å­—æˆ–è€…åªæœ‰ä¸€ä¸ªæ•°å­—,è¿”å› 1
	if n == 0 || n == 1 {
		return 1
	}
	ans := 0
	for i := 1; i <= n; i++ {
		// å¾—åˆ°æ‰€æœ‰å¯èƒ½çš„å·¦å­æ ‘
		left := dfs(i - 1)
		// å¾—åˆ°æ‰€æœ‰å¯èƒ½çš„å³å­æ ‘
		right := dfs(n - i)
		// å·¦å­æ ‘å³å­æ ‘ä¸¤ä¸¤ç»„åˆ
		ans += left * right
	}
	memoization[n] = ans
	return ans
}